{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./BillAlerts.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BillAlerts=()=>{const[alerts,setAlerts]=useState([]);useEffect(()=>{const fetchBills=async()=>{try{const response=await fetch('http://localhost:3002/data');// Adjust URL if necessary\nconst data=await response.json();// Sort by actionDate in descending order and take the top 3\nconst topThreeBills=data.sort((a,b)=>new Date(b.bill.actionDate)-new Date(a.bill.actionDate)).slice(0,3);setAlerts(topThreeBills);}catch(error){console.error('Error fetching bills:',error);}};fetchBills();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"bill-alerts\",children:alerts.map((alert,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"alert-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:`${alert.bill.bill.type} ${alert.bill.bill.number}`}),\" \",/*#__PURE__*/_jsx(\"p\",{children:new Date(alert.bill.actionDate).toLocaleDateString()}),\" \",/*#__PURE__*/_jsx(\"a\",{href:alert.bill.url||`/bill/${alert._id}`,children:\"Learn More\"}),\" \"]},index))});};export default BillAlerts;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","BillAlerts","alerts","setAlerts","fetchBills","response","fetch","data","json","topThreeBills","sort","a","b","Date","bill","actionDate","slice","error","console","className","children","map","alert","index","type","number","toLocaleDateString","href","url","_id"],"sources":["/Users/andrewhadden/Desktop/Thesis/website/src/components/BillAlerts.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './BillAlerts.css';\n\nconst BillAlerts = () => {\n    const [alerts, setAlerts] = useState([]);\n\n    useEffect(() => {\n        const fetchBills = async () => {\n            try {\n                const response = await fetch('http://localhost:3002/data'); // Adjust URL if necessary\n                const data = await response.json();\n\n                // Sort by actionDate in descending order and take the top 3\n                const topThreeBills = data\n                    .sort((a, b) => new Date(b.bill.actionDate) - new Date(a.bill.actionDate))\n                    .slice(0, 3);\n\n                setAlerts(topThreeBills);\n            } catch (error) {\n                console.error('Error fetching bills:', error);\n            }\n        };\n        fetchBills();\n    }, []);\n\n    return (\n        <div className=\"bill-alerts\">\n            {alerts.map((alert, index) => (\n                <div key={index} className=\"alert-card\">\n                    <h3>{`${alert.bill.bill.type} ${alert.bill.bill.number}`}</h3> {/* Label + Bill number */}\n                    <p>{new Date(alert.bill.actionDate).toLocaleDateString()}</p> {/* Date under */}\n                    <a href={alert.bill.url || `/bill/${alert._id}`}>Learn More</a> {/* Learn more link below */}\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default BillAlerts;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAExCD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAS,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,4BAA4B,CAAC,CAAE;AAC5D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAElC;AACA,KAAM,CAAAC,aAAa,CAAGF,IAAI,CACrBG,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAAC,IAAI,CAACD,CAAC,CAACE,IAAI,CAACC,UAAU,CAAC,CAAG,GAAI,CAAAF,IAAI,CAACF,CAAC,CAACG,IAAI,CAACC,UAAU,CAAC,CAAC,CACzEC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAEhBb,SAAS,CAACM,aAAa,CAAC,CAC5B,CAAE,MAAOQ,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CACjD,CACJ,CAAC,CACDb,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIN,IAAA,QAAKqB,SAAS,CAAC,aAAa,CAAAC,QAAA,CACvBlB,MAAM,CAACmB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBACrBvB,KAAA,QAAiBmB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACnCtB,IAAA,OAAAsB,QAAA,CAAK,GAAGE,KAAK,CAACR,IAAI,CAACA,IAAI,CAACU,IAAI,IAAIF,KAAK,CAACR,IAAI,CAACA,IAAI,CAACW,MAAM,EAAE,CAAK,CAAC,IAAC,cAC/D3B,IAAA,MAAAsB,QAAA,CAAI,GAAI,CAAAP,IAAI,CAACS,KAAK,CAACR,IAAI,CAACC,UAAU,CAAC,CAACW,kBAAkB,CAAC,CAAC,CAAI,CAAC,IAAC,cAC9D5B,IAAA,MAAG6B,IAAI,CAAEL,KAAK,CAACR,IAAI,CAACc,GAAG,EAAI,SAASN,KAAK,CAACO,GAAG,EAAG,CAAAT,QAAA,CAAC,YAAU,CAAG,CAAC,IAAC,GAH1DG,KAIL,CACR,CAAC,CACD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}